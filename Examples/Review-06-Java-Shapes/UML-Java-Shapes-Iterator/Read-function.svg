<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="741px" preserveAspectRatio="none" style="width:1115px;height:741px;" version="1.1" viewBox="0 0 1115 741" width="1115px" zoomAndPan="magnify"><defs><filter height="300%" id="fdyva6wd1nx71" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="365" x="376.25" y="22.9951">Java RunShapes "read" Function With Iterators</text><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="632.6172" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="78.5938"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="20.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="413" y="109.7266"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="413" y="654.0781"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="20.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="587" y="169.0234"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="358.3594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="587" y="242.4531"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="285.0938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592" y="279.5859"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="83.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="597" y="439.2813"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="88.4297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="924" y="313.7188"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="20.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1041" y="352.8516"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1041" y="473.4141"/><rect fill="#FEFECE" filter="url(#fdyva6wd1nx71)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="328" y="78.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="162" x="335" y="98.5889">collection:List&lt;Shape&gt;</text><rect fill="#FEFECE" filter="url(#fdyva6wd1nx71)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="518" y="137.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="130" x="525" y="157.8857">it:Iterator&lt;Shape&gt;</text><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="478.8906" style="stroke: #000000; stroke-width: 2.0;" width="1091.5" x="13" y="204.1875"/><rect fill="#FEFECE" filter="url(#fdyva6wd1nx71)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="997.5" y="321.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="79" x="1004.5" y="341.7139">shp: Shape</text><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="60.2656" style="stroke: #000000; stroke-width: 2.0;" width="495" x="23" y="615.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="84" x2="84" y1="68.5938" y2="729.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="232" x2="232" y1="68.5938" y2="729.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="418" x2="418" y1="111.2422" y2="729.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="592" x2="592" y1="170.5391" y2="729.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="928.5" x2="928.5" y1="68.5938" y2="729.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1045.5" x2="1045.5" y1="354.3672" y2="729.2109"/><rect fill="#FEFECE" filter="url(#fdyva6wd1nx71)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="33" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="85" x="40" y="53.292">:RunShapes</text><rect fill="#FEFECE" filter="url(#fdyva6wd1nx71)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="146" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="154" x="153" y="53.292">buffer:BufferedReader</text><rect fill="#FEFECE" filter="url(#fdyva6wd1nx71)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="870.5" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="99" x="877.5" y="53.292">:ShapeFactory</text><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="632.6172" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="78.5938"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="20.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="413" y="109.7266"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="413" y="654.0781"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="20.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="587" y="169.0234"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="358.3594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="587" y="242.4531"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="285.0938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592" y="279.5859"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="83.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="597" y="439.2813"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="88.4297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="924" y="313.7188"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="20.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1041" y="352.8516"/><rect fill="#FFFFFF" filter="url(#fdyva6wd1nx71)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1041" y="473.4141"/><polygon fill="#A80036" points="316,95.7266,326,99.7266,316,103.7266,320,99.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="322" y1="99.7266" y2="99.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="96.5" y="94.6606">new</text><rect fill="#FEFECE" filter="url(#fdyva6wd1nx71)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="328" y="78.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="162" x="335" y="98.5889">collection:List&lt;Shape&gt;</text><polygon fill="#A80036" points="100.5,125.8906,90.5,129.8906,100.5,133.8906,96.5,129.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="94.5" x2="417" y1="129.8906" y2="129.8906"/><polygon fill="#A80036" points="506,155.0234,516,159.0234,506,163.0234,510,159.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="512" y1="159.0234" y2="159.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="96.5" y="153.9575">new ShapeIterator(buffer)</text><rect fill="#FEFECE" filter="url(#fdyva6wd1nx71)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="518" y="137.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="130" x="525" y="157.8857">it:Iterator&lt;Shape&gt;</text><polygon fill="#A80036" points="100.5,185.1875,90.5,189.1875,100.5,193.1875,96.5,189.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="94.5" x2="591" y1="189.1875" y2="189.1875"/><path d="M13,204.1875 L90,204.1875 L90,211.1875 L80,221.1875 L13,221.1875 L13,204.1875 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="478.8906" style="stroke: #000000; stroke-width: 2.0;" width="1091.5" x="13" y="204.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="28" y="217.2544">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="105" y="216.3979">[it.hasNext()]</text><polygon fill="#A80036" points="575,238.4531,585,242.4531,575,246.4531,579,242.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="581" y1="242.4531" y2="242.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="96.5" y="237.3872">next() [dereference &amp; iterate]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="597" x2="644" y1="266.5859" y2="266.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="644" x2="644" y1="266.5859" y2="279.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="603" x2="644" y1="279.5859" y2="279.5859"/><polygon fill="#A80036" points="613,275.5859,603,279.5859,613,283.5859,609,279.5859" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="609" y="261.52">readNext()</text><polygon fill="#A80036" points="912,309.7188,922,313.7188,912,317.7188,916,313.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="602" x2="918" y1="313.7188" y2="313.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="609" y="308.6528">createShape(name) [assume "name" is known]</text><polygon fill="#A80036" points="985.5,338.8516,995.5,342.8516,985.5,346.8516,989.5,342.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="934" x2="991.5" y1="342.8516" y2="342.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="941" y="337.7856">new()</text><rect fill="#FEFECE" filter="url(#fdyva6wd1nx71)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="997.5" y="321.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="79" x="1004.5" y="341.7139">shp: Shape</text><polygon fill="#A80036" points="945,369.0156,935,373.0156,945,377.0156,941,373.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="939" x2="1045" y1="373.0156" y2="373.0156"/><polygon fill="#A80036" points="613,398.1484,603,402.1484,613,406.1484,609,402.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="607" x2="928" y1="402.1484" y2="402.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="619" y="397.0825">shp [assume shp != null]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="602" x2="649" y1="426.2813" y2="426.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="649" x2="649" y1="426.2813" y2="439.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="608" x2="649" y1="439.2813" y2="439.2813"/><polygon fill="#A80036" points="618,435.2813,608,439.2813,618,443.2813,614,439.2813" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="242" x="614" y="421.2153">initShapeFromDims(shp, lineScanner)</text><polygon fill="#A80036" points="1029,469.4141,1039,473.4141,1029,477.4141,1033,473.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="607" x2="1035" y1="473.4141" y2="473.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="286" x="614" y="468.3481">createFromDims(dims) ["dims" is a double[]]</text><polygon fill="#A80036" points="618,483.4141,608,487.4141,618,491.4141,614,487.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="612" x2="1045" y1="487.4141" y2="487.4141"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="607" x2="649" y1="521.5469" y2="521.5469"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="649" x2="649" y1="521.5469" y2="534.5469"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="602" x2="649" y1="534.5469" y2="534.5469"/><polygon fill="#A80036" points="612,530.5469,602,534.5469,612,538.5469,608,534.5469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="614" y="516.481">shp</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="602" x2="644" y1="563.6797" y2="563.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="644" x2="644" y1="563.6797" y2="576.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="597" x2="644" y1="576.6797" y2="576.6797"/><polygon fill="#A80036" points="607,572.6797,597,576.6797,607,580.6797,603,576.6797" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="609" y="558.6138">shp</text><polygon fill="#A80036" points="100.5,596.8125,90.5,600.8125,100.5,604.8125,96.5,600.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="94.5" x2="591" y1="600.8125" y2="600.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="106.5" y="595.7466">shp</text><path d="M23,615.8125 L93,615.8125 L93,622.8125 L83,632.8125 L23,632.8125 L23,615.8125 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="60.2656" style="stroke: #000000; stroke-width: 2.0;" width="495" x="23" y="615.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="38" y="628.8794">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="108" y="628.0229">[shp is not null]</text><polygon fill="#A80036" points="401,650.0781,411,654.0781,401,658.0781,405,654.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="407" y1="654.0781" y2="654.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="96.5" y="649.0122">add(shp)</text><polygon fill="#A80036" points="100.5,664.0781,90.5,668.0781,100.5,672.0781,96.5,668.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="94.5" x2="417" y1="668.0781" y2="668.0781"/><polygon fill="#A80036" points="580,707.2109,590,711.2109,580,715.2109,584,711.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="84.5" x2="586" y1="711.2109" y2="711.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="91.5" y="706.145">delete</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="583" x2="601" y1="702.2109" y2="720.2109"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="583" x2="601" y1="720.2109" y2="702.2109"/><!--
@startuml
autoactivate on
hide footbox
skinparam sequenceParticipant underline

title Java RunShapes "read" Function With Iterators

participant ":RunShapes" as rs
activate rs

participant "buffer:BufferedReader" as buffer

create "collection:List<Shape>" as collection
rs -> collection: new
return

create "it:Iterator<Shape>" as it
rs -> it: new ShapeIterator(buffer)
return

participant ":ShapeFactory" as sf

loop it.hasNext()
    rs -> it: next() [dereference & iterate]
        it->it: readNext()
            it -> sf: createShape(name) [assume "name" is known]
                create "shp: Shape" as shp
                sf-> shp: new()
                return
            return shp [assume shp != null]

            it->it: initShapeFromDims(shp, lineScanner)
            it->shp: createFromDims(dims) ["dims" is a double[]]
            return
            return shp
        return shp
    return  shp
    opt shp is not null
        rs -> collection: add(shp)
        return
    end
end

rs -> it !!: delete
deactivate rs

@enduml

PlantUML version 1.2019.09(Mon Aug 26 12:19:51 EDT 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.14+9-Ubuntu-0ubuntu2.16.04
Operating System: Linux
OS Version: 4.4.0-229-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>